# 🎭 MusicalBot 项目功能文档：全方位音乐剧学生票助手

MusicalBot 是一个专为音乐剧/剧场爱好者定制的一站式服务平台。通过 **QQ 机器人（实时推送与查询）** 和 **Web 控制台（可视化管理与盘票站）** 的深度结合，解决剧圈粉丝在获取学生票信息、管理观剧行程以及转票置换中的信息不对称痛点。

---

## 🚀 核心价值：我们解决了什么问题？

1. **抢票焦虑与信息滞后**：学生票（尤其是有折扣的开票/回流票）往往库存极少且不定时上架。MusicalBot 通过毫秒级监控提供实时推送，让你不再错过任何一个“神仙场”。
2. **查询繁琐**：无需在各个票务 APP 间反复跳转，一个指令即可查看多系统（呼啦圈、扫剧等）的排期。
3. **转票匹配难**：在粉丝群乱糟糟的置换信息中大海捞针？“盘票站”提供结构化的出票/求票匹配，让置换更有序。
4. **观剧足迹模糊**：通过可视化“足迹热力图”，记录你的每一次剧场奔赴。

---

## 🤖 QQ 机器人功能 (实时工具)

*主要面向即时查询与自动通知场景，是你的“剧场贴身管家”。*

### 1. 智能订阅系统

- **实时推送**：监控学生票上新、补票、回流、余票增减。
- **颗粒度控制**：支持按“剧目”或“演员”订阅，并提供 0-5 级不同的灵敏度（模式），满足从“只管开票”到“任何动态都要看”的不同需求。
- **群组支持**：支持 Root 权限用户在 QQ 群内配置群订阅，将通知惠及整个组织。

### 2. 即时指令查询

- `查票 [剧名]` or `/hlq [剧名]`：快速调取全网学生票剩余库存。
- `查排期` or `/date [日期] [城市]`：查看特定日期某一城市的所有低价场次。
- `查同场` or `/cast [演员1] [演员2]`：全网（含扫剧系统数据）检索两位或多位演员的同场排期（拼卡神技）。

### 3. 便捷入口

- `/web` 或 `/登录`：一键生成免密登录链接（MagicLink），无缝跳转 Web 控制台。

---

## 🌐 Web 控制台功能 (深度管理)

*主要面向系统配置、大数据决策与社区互动场景，是你的“指挥中心”。*

### 1. 学生票数据中心

- **全量看板**：可视化展示所有在售剧目，支持按城市、剧场、价格区间的多维过滤，响应式界面适配手机与电脑。
- **详情透视**：点击剧目即可查看所有场次及其剩余库存。

### 2. 盘票站 (Marketplace)

- **结构化挂单**：支持“出（HAVE）”、“求（WANT）”、“置换（SWAP）”、“捆绑（BUNDLE）”等专业领域操作。
- **智能匹配**：自动计算你的“我有”和谁的“他求”相匹配，极大提高转票效率。
- **隐私保护**：初次查看隐藏联系方式，仅对登录用户展示。

### 3. 实验室与大数据 (Lab)

- **演出热力图 (Heatmap)**：记录你的观剧频率，生成如同 GitHub 提交记录般的“观剧贡献图”。
- **同场检索 Pro**：比 Bot 端更强大的同场逻辑，支持多演员全周期对比。

### 4. 账户设置

- **统一身份**：Bot 与 Web 端账号完全打通（基于 QQ ID 映射）。
- **个性化设置**：配置全局静音时段、通知灵敏度调整，一键清空所有历史订阅。

---

## 🎯 目标用户

- **学生票猎人**：追求高性价比看剧，对信息及时性有极高要求。
- **拼卡狂魔**：非某个卡司组合不看，需要强大的同场查询工具。
- **狂热剧粉**：需要记录自己的看剧生涯，并在社区中进行有序换票。

---

## 📝 反馈与参与

系统内置了完善的 **意见反馈模块** 和 **日志更新系统**。我们尊重每一位剧友的意见，功能在持续迭代中！

> 💡 *“因为热爱剧场，所以想让看剧变得更简单。”*
